@font-face { font-family: 'Ka'; src: url('../fonts/ka.otf') format('opentype'); font-weight: normal; font-style: normal; font-display: swap; } @font-face { font-family: 'boldpixels'; src: url('../fonts/boldpixels.otf') format('opentype'); font-weight: normal; font-style: normal; font-display: swap; } /* 1-bit mono themes via CSS variables */ :root { --solid: #ffffff; --ink: #000000; --accent: linear-gradient(135deg, #3cb3d8, #9a36fe); } /* Dark theme: gradient backgrounds, solid white text/borders */ body[data-theme="dark"] { --bg: var(--accent); --canvas-bg: var(--accent); --fg: var(--solid); --border: var(--solid); --overlay: rgba(0,0,0,0.6); } /* Light theme: solid white background, gradient for text/borders via overrides below */ body[data-theme="light"] { --bg: var(--solid); --canvas-bg: var(--solid); --fg: var(--ink); --border: var(--ink); --overlay: rgba(0,0,0,0.6); } body { background: var(--bg); color: var(--fg); text-align:center; font-family: 'boldpixels', sans-serif; margin:0; min-height:100vh; display:flex; flex-direction:column; align-items:center; } #stage, #game-wrap, canvas, #overlay, #overlay *, body, html { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } #stage { flex:1; display:flex; align-items:center; justify-content:center; width:100%; } #game-wrap { display:flex; flex-direction:column; align-items:center; gap:8px; } canvas { background: transparent; display:block; margin:0; border:1px solid var(--border); } .icon-canvas { background: transparent; display:block; margin:0; border: 0px solid rgba(255, 255, 255, 0); } h1 { margin:10px 0 0; color: var(--fg); font-family: 'Ka', sans-serif; } /* Centered popup overlay */ #overlay { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: var(--overlay); z-index: 9999; } #overlay .modal { background: var(--bg); color: var(--fg); border:2px solid var(--border); padding:24px 28px; min-width:280px; max-width:90vw; box-shadow: 0 8px 30px rgba(0,0,0,0.5); } /* Flicker effect for new high score (border around text only) */ @keyframes border-flicker { 0%, 100% { border-color: var(--fg); } 50% { border-color: var(--bg); } } /* New High Score badge */ #overlay #overlay-high.new-high { position: relative; display: inline-block; padding: 4px 10px; border: none; z-index: 0; /* ensure text layers above ::before */ } @keyframes nh-flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0; } } /* Light: gradient text (from earlier rule) + gradient border flicker */ body[data-theme="light"] #overlay #overlay-high.new-high::before { content: ""; position: absolute; inset: 0; border: 2px solid transparent; border-image: var(--accent) 1; background: transparent; z-index: -1; pointer-events: none; animation: nh-flicker 0.6s steps(1, end) infinite; } /* Dark: solid white text + white border flicker */ body[data-theme="dark"] #overlay #overlay-high.new-high::before { content: ""; position: absolute; inset: 0; border: 2px solid var(--fg); background: transparent; z-index: -1; pointer-events: none; animation: nh-flicker 0.6s steps(1, end) infinite; } /* When border is white (dark theme gradient background), force white text */ body[data-theme="dark"] #overlay #overlay-high.new-high { background-image: none !important; color: var(--fg) !important; -webkit-text-fill-color: var(--fg) !important; } #overlay .title { font-family: 'Ka', sans-serif; font-weight: bold; font-size: 36px; color: var(--fg); margin-bottom:20px; } #overlay .msg { font: 20px/1.4 'boldpixels', sans-serif; margin-bottom:6px; text-align: center; } #overlay[data-mode="start"] .msg { text-align: left; } #overlay .final { font: 16px/1.4 'boldpixels', sans-serif; opacity:0.9; margin: 15px 0px; } #overlay .high { font: 16px/1.4 'boldpixels', sans-serif; opacity:0.9; margin-bottom:14px; } #overlay .actions { text-align:center; display:flex; flex-direction:column; gap:8px; } #overlay button { background-color: var(--bg); color: var(--fg); border:2px solid var(--border); padding:10px 18px; font: 16px 'boldpixels', sans-serif; cursor:pointer; box-shadow: none; } #overlay #overlay-icon { margin: 8px auto; image-rendering: pixelated; } #overlay .start-line { display: flex; align-items: center; justify-content: flex-start; gap: 8px; } #overlay .start-block { display: flex; flex-direction: column; gap: 6px; } #overlay .start-sep { border-top: 2px solid var(--border); margin: 8px 0; } /* Gradient separators in light theme */ body[data-theme="light"] #overlay .start-sep { border: none; height: 2px; margin: 8px 0; background-image: var(--accent); } .hidden { display:none; } /* Gradient text ONLY in light theme (override inline colors) */ body[data-theme="light"] h1, body[data-theme="light"] #overlay .title, body[data-theme="light"] #overlay .msg, body[data-theme="light"] #overlay .final, body[data-theme="light"] #overlay .high, body[data-theme="light"] #overlay button { background-image: var(--accent); -webkit-background-clip: text; background-clip: text; color: transparent !important; -webkit-text-fill-color: transparent !important; } /* Preserve white button background in light theme */ body[data-theme="light"] #overlay button { background-color: var(--bg); } /* Gradient borders in light theme */ body[data-theme="light"] #game, body[data-theme="light"] #overlay .modal, body[data-theme="light"] #overlay button { border: 2px solid transparent; border-image-slice: 1; border-image-source: var(--accent); } /* Ensure #game keeps rounded corners in light mode */ body[data-theme="light"] #game { overflow: hidden; } /* Remove any border treatment from the small overlay icon canvas */ #overlay #overlay-icon { border: none !important; border-image: none !important; }